import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,b as i,a as o,d as n,w as t,r as p,o as d,e}from"./app-D_aip97M.js";const h="/assets/attachments-CCdrNlbm.png",g="/assets/view-CfjyXcQi.png",k="/assets/refit_pos-B6VVH9nT.png",c="/assets/scope_pos-AiZjaolD.png",u="/assets/mag_exd-BgzG3pAI.png",b="/assets/gunname-C8vWEKcf.png",m={},_={class:"table-of-contents"};function f(v,s){const a=p("router-link");return d(),r("div",null,[s[11]||(s[11]=i("h1",{id:"枪械改装支持",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#枪械改装支持"},[i("span",null,"枪械改装支持")])],-1)),s[12]||(s[12]=i("p",null,"本篇教程内容作者: Lesraisins-伯爵",-1)),i("nav",_,[i("ul",null,[i("li",null,[n(a,{to:"#受配件影响的枪械模型分组"},{default:t(()=>s[0]||(s[0]=[e("受配件影响的枪械模型分组",-1)])),_:1,__:[0]})]),i("li",null,[n(a,{to:"#设置定位组"},{default:t(()=>s[1]||(s[1]=[e("设置定位组",-1)])),_:1,__:[1]}),i("ul",null,[i("li",null,[n(a,{to:"#装配界面摄像机定位组"},{default:t(()=>s[2]||(s[2]=[e("装配界面摄像机定位组",-1)])),_:1,__:[2]})]),i("li",null,[n(a,{to:"#模型定位组"},{default:t(()=>s[3]||(s[3]=[e("模型定位组",-1)])),_:1,__:[3]})]),i("li",null,[n(a,{to:"#弹匣、扩容弹匣"},{default:t(()=>s[4]||(s[4]=[e("弹匣、扩容弹匣",-1)])),_:1,__:[4]})])])]),i("li",null,[n(a,{to:"#开启配件槽"},{default:t(()=>s[5]||(s[5]=[e("开启配件槽",-1)])),_:1,__:[5]})]),i("li",null,[n(a,{to:"#更改配件tag"},{default:t(()=>s[6]||(s[6]=[e("更改配件TAG",-1)])),_:1,__:[6]}),i("ul",null,[i("li",null,[n(a,{to:"#使用通用配件"},{default:t(()=>s[7]||(s[7]=[e("使用通用配件",-1)])),_:1,__:[7]})]),i("li",null,[n(a,{to:"#指定特定配件"},{default:t(()=>s[8]||(s[8]=[e("指定特定配件",-1)])),_:1,__:[8]})]),i("li",null,[n(a,{to:"#创建自定义配件tag"},{default:t(()=>s[9]||(s[9]=[e("创建自定义配件TAG",-1)])),_:1,__:[9]})]),i("li",null,[n(a,{to:"#扩展已经存在的tag"},{default:t(()=>s[10]||(s[10]=[e("扩展已经存在的TAG",-1)])),_:1,__:[10]})])])])])]),s[13]||(s[13]=o('<h2 id="受配件影响的枪械模型分组" tabindex="-1"><a class="header-anchor" href="#受配件影响的枪械模型分组"><span>受配件影响的枪械模型分组</span></a></h2><blockquote><p>在枪械模型中，如果一个分组被命名为以下名称之一，它将会被配件影响。</p></blockquote><p><strong>默认配件</strong>：xxx_default<br> 在不安装任何配件时渲染的配件模型，其中 xxx 替换为具体的配件类型：scope、grip、stock、muzzle、laser、extended_mag<br><strong>默认机瞄</strong>：sight<br> 在不安装任何瞄具下渲染的机瞄配件<br><strong>默认护木与战术护木</strong>: handguard_default/handguard_tactical<br> 在不安装握把配件时渲染: handguard_default<br> 在安装任意握把配件时渲染: handguard_tactical<br><strong>镜桥</strong>：mount<br> 在安装任意瞄具后渲染的镜桥</p><h2 id="设置定位组" tabindex="-1"><a class="header-anchor" href="#设置定位组"><span>设置定位组</span></a></h2><h3 id="装配界面摄像机定位组" tabindex="-1"><a class="header-anchor" href="#装配界面摄像机定位组"><span>装配界面摄像机定位组</span></a></h3><blockquote><p>在游戏内持枪按【Z】打开装配界面</p></blockquote><figure><img src="'+h+'" alt="" tabindex="0"><figcaption></figcaption></figure><p>以下是所有的装配界面中枪械模型的摄像机定位组。你可以在 blockbench 为它们添加摄像机用于预览。</p><p><strong>总览</strong>：refit_view<br><strong>枪口</strong>：refit_muzzle_view<br><strong>枪托</strong>：refit_stock_view<br><strong>瞄具</strong>：refit_scope_view<br><strong>弹匣</strong>：refit_extended_mag_view<br><strong>握把</strong>：refit_grip_view<br><strong>镭射</strong>：refit_laser_view<br><img src="'+g+'" alt=""></p><h3 id="模型定位组" tabindex="-1"><a class="header-anchor" href="#模型定位组"><span>模型定位组</span></a></h3><blockquote><p>为使枪械配件能在枪械上正确的位置渲染，我们需要在枪械的模型中为它们添加定位组</p></blockquote><ol><li><p>选择你需要的定位组，在合适的分组子目录下创建它们，确保它们能够受到枪械动画的影响。以下是支持的配件定位组的名称</p><p><strong>枪口</strong>：muzzle_pos<br><strong>镭射</strong>：laser_pos<br><strong>瞄具</strong>：scope_pos<br><strong>枪托</strong>：stock_pos<br><strong>握把</strong>：grip_pos</p></li><li><p>移动配件定位组到枪械对应的位置，下图以<strong>瞄具scope_pos</strong>为例。一般来说，我们需要将定位组放在导轨的接触面上。</p></li></ol><figure><img src="'+k+'" alt="pos" tabindex="0"><figcaption>pos</figcaption></figure><figure><img src="'+c+'" alt="scope_pos" tabindex="0"><figcaption>scope_pos</figcaption></figure><h3 id="弹匣、扩容弹匣" tabindex="-1"><a class="header-anchor" href="#弹匣、扩容弹匣"><span>弹匣、扩容弹匣</span></a></h3><p>如果你需要使用扩容弹匣，你<strong>必须</strong>创建一个 <strong>magazine</strong> 分组，然后将普通弹匣和扩容弹匣分组全部置入其中，否则弹匣不会正常渲染。</p><p>普通弹匣模型分组的名称应该被改为：<strong>mag_standard</strong>。</p><p>扩容弹匣模型从 1 级 到 3级 分别应该被命名为：<strong>mag_extended_1</strong> ~ <strong>mag_extended_3</strong>。</p><figure><img src="'+u+`" alt="mag_exd" tabindex="0"><figcaption>mag_exd</figcaption></figure><h2 id="开启配件槽" tabindex="-1"><a class="header-anchor" href="#开启配件槽"><span>开启配件槽</span></a></h2><p>打开枪械数据文件 namespace/gun/data/xxx_data.json</p><p>新增以下代码，选择并填写该枪械所支持的配件。</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 开放的配件槽。未指定的槽位默认关闭。全部配件槽类型有:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // scope, stock, muzzle, grip, laser, extended_mag</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;allow_attachment_types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;scope&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;stock&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;muzzle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;grip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;laser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;extended_mag&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>若武器支持扩容弹匣，则需添加以下代码规定不同等级的扩容弹匣所包含的弹药总数</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 扩容弹夹弹药总数</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  &quot;extended_mag_ammo_amount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    45</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    70</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="更改配件tag" tabindex="-1"><a class="header-anchor" href="#更改配件tag"><span>更改配件TAG</span></a></h2><blockquote><p>目前 tacz 使用了一套 tag 系统规定武器所支持的配件</p></blockquote><h3 id="使用通用配件" tabindex="-1"><a class="header-anchor" href="#使用通用配件"><span>使用通用配件</span></a></h3><ol><li>在枪包<strong>命名空间目录</strong>下新建文件夹 tags/attachments/allow_attachments</li><li>在该文件夹下创建文件 &#39;{your_gun_name}.json&#39; ( ak47.json for example ) <img src="`+b+`" alt="gunname"></li><li>打开文件并在其中填写所支持的配件类型</li></ol><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;#tacz:scope&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;#tacz:muzzle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;#tacz:extended_mag&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;#tacz:stock&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;#tacz:grip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;#tacz:laser&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>以 &#39;#&#39; 开头的条目将会被视为 tag。tacz 使用的 tag 系统与原版类似，可以在 tag 中包含其他 tag。如果这么做，前者将被视为包含后者所包含的所有内容。</p></blockquote><h3 id="指定特定配件" tabindex="-1"><a class="header-anchor" href="#指定特定配件"><span>指定特定配件</span></a></h3><ol><li>打开 tags/attachments/allow_attachments 中枪械对应的 tag 文件。</li><li>直接指定配件 id。如下图，直接指定了默认枪包中的 SRO Dot 。</li></ol><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;tacz:sro_dot&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建自定义配件tag" tabindex="-1"><a class="header-anchor" href="#创建自定义配件tag"><span>创建自定义配件TAG</span></a></h3><blockquote><p>在 tags/ 文件夹下的任何 JSON 文件都将被视为 tag 被加载</p></blockquote><ol><li>在 tags/attachments/ 文件夹下新建文件 &#39;{tag_name}.json&#39; (例如：my_grips.json)</li><li>向 tag 文件中添加条目。注意，只能将<strong>配件 id</strong> 或者 tags/attachments/ 下的其他 tag 作为条目。</li><li>在其他地方使用这个 tag。如果你的命名空间为 abc，那么位于 tags/attachments/ 文件夹下的 def.json 的全称是：abc:def。</li></ol><h3 id="扩展已经存在的tag" tabindex="-1"><a class="header-anchor" href="#扩展已经存在的tag"><span>扩展已经存在的TAG</span></a></h3><p>以 #tacz:scope 为例。</p><ol><li>在枪包<strong>根目录</strong>下建立对应的命名空间文件夹，此例中为 tacz。</li><li>在新建的命名空间下创建 tags 文件夹。</li><li>在完全相同的路径下放一个同名 tag 文件，此例中为：tacz/tags/attachments/scope.json</li><li>直接把需要扩展的条目加入其中。tacz 读取 tag 时，会自动收集所有同路径同名的 tag 文件中罗列的条目，而不是覆盖。</li></ol>`,40))])}const x=l(m,[["render",f]]),q=JSON.parse('{"path":"/zh/gunpack/legacy/gun_refit/","title":"枪械改装支持","lang":"zh-CN","frontmatter":{},"git":{},"readingTime":{"minutes":3.61,"words":1083},"filePathRelative":"zh/gunpack/legacy/gun_refit/README.md","excerpt":"\\n<p>本篇教程内容作者: Lesraisins-伯爵</p>\\n\\n<h2>受配件影响的枪械模型分组</h2>\\n<blockquote>\\n<p>在枪械模型中，如果一个分组被命名为以下名称之一，它将会被配件影响。</p>\\n</blockquote>\\n<p><strong>默认配件</strong>：xxx_default<br>\\n在不安装任何配件时渲染的配件模型，其中 xxx 替换为具体的配件类型：scope、grip、stock、muzzle、laser、extended_mag<br>\\n<strong>默认机瞄</strong>：sight<br>\\n在不安装任何瞄具下渲染的机瞄配件<br>\\n<strong>默认护木与战术护木</strong>: handguard_default/handguard_tactical<br>\\n在不安装握把配件时渲染: handguard_default<br>\\n在安装任意握把配件时渲染: handguard_tactical<br>\\n<strong>镜桥</strong>：mount<br>\\n在安装任意瞄具后渲染的镜桥</p>"}');export{x as comp,q as data};
