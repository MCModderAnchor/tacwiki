# 动画模型分组
为方便动画制作与程序读取，在 **开始制作动画之前** 应提前将模型分好组。  

本章节提供了一些模型分组建议  

## 分组

### 分组建议
- **right_hand_and_gun** 右手及枪械，可以自由命名。动画中大多数情况右手和枪械一起运动，因此可以置于同一分组便于 k 帧。
- **left_hand_and_mag** 左手及弹匣，可以自由命名。动画中换弹时左手和弹匣有很长时间需要一起运动，因此可以置于同一分组便于 k 帧。
- **left_hand** 左手组，可以自由命名。它应该套在 `lefthand_pos` (左手手臂定位组)的外层。更改它的枢纽点相对于手臂模型的位置，并用它 k 帧，更加方便。
- **right_hand** 与左手组同理。
- **default** 名字任意。枪械内所有不可运动的部件的集合（不参与动画的所有东西丢进去）
- 其他所有运动件和 `main` 组同级，如弹匣 `magazine` ，枪栓 `handle` 等，这些运动件可以自由命名。  

你可以在下面下载分好组的包含手部模型的示例bb工程文件，以便参考。

------------

### 分好组的手部模型下载

[夸克网盘](https://pan.quark.cn/s/03b2c15e7403)
[百度网盘](https://pan.baidu.com/s/1wgj3tFTzPd2ZOaRbkgSaYw?pwd=17e0)
[谷歌网盘](https://drive.google.com/drive/folders/1C8CsGzRCsaQfA5ako51ljNKG5VOER1lF?usp=drive_link)


## 枢轴点设置
>枢轴点设置是为了方便动画的制作，除**lefthand_pos**和**righthand_pos**组外其他组的枢轴点皆以自己舒适的方式进行设置。以下内容为参考建议。   

**枢轴点：** 枢轴点是零件/模型将围绕其旋转的点。

**需要设置枢轴点的内容：** 通常来说所有参与k帧的分组都要设定枢轴点，如果你想偷懒的话则可以只设置会旋转的分组

**如何设置枢轴点：**
快捷键：P
工具栏的圆形按钮
枢轴点居中：右侧枢轴点数值的旁边

**推荐枢轴点位置：** 此内容仅为编者建议不具任何权威，一切以顺手为主。
- right_hand_and_gun：置于右手手心
- left_hand & right_hand组：置于手心
- 特别地，**推荐 root 组将枢纽点置于枪械模型的后握把处**，以使枪械默认动画得到最好的观感。
------------


![枢纽点位置](/gunpack/gun/animation/animation_group/pivot.png)

------------

## 动画类型与规范
>为了程序能正确读取，动画命名请严格参照以下内容！

### 必备动画
>以下为不可或缺的动画类型，若缺少该类型的动画则会导致画面出现严重问题

#### static_idle
默认持枪动画，该动画只需用设置左右手的位置，约束组的参数，以及特殊定位组
- 动画类型：静止动画

------------


![static_idle](/gunpack/gun/animation/animation_group/static_idle.png)

------------


#### reload_tactical
战术换弹动画，如枪内还有剩余弹药的战术换弹方式。如您的枪没有战术换弹和空仓换弹之分，则可复制该动画到空仓换弹。
- 动画起始状态和终止状态应该与 static_idle 完全相同

#### reload_empty
空仓换弹动画，弹药耗尽后的换弹动画。
- 动画起始状态和终止状态应该与 static_idle 完全相同

#### inspect
检视动画：武器检视动画。
- 动画起始状态和终止状态应该与 static_idle 完全相同

------------


#### shoot
射击动画，武器开火时的视觉后坐力动画
- 动画起始状态和终止状态应该与 static_idle 完全相同
- 动画类型：混合型。此动画将和其他类型动画混合播放
- 注意事项：因为是混合动画，可以互相叠加，所以不需要包含手部关键帧

![shoot](/gunpack/gun/animation/animation_group/shoot.png)


------------


### 可选动画类型
>可选动画为非所有枪都需要制作的动画，可根据需求自行选择是否制作

#### static_bolt_caught
空仓动画，当武器处于空仓状态时的静止动画
- 动画类型：静止动画

![sbc](/gunpack/gun/animation/animation_group/sbc.png)

------------


#### draw
掏枪动画，当玩家拿出武器时播放的动画
- 默认动画中包含此动画
- 动画终止状态应与static_idle完全相同

------------


#### put_away
收枪动画，当玩家切换物品栏，丢弃武器..时播放的动画
- 默认动画中包含此动画
- 动画起始状态应与static_idle完全相同

------------


#### inspect_empty
空仓检视动画，当武器处于空仓状态时播放的检视动画。
如果缺少inspect_empty动画则空仓时无法触发检视
- 动画起始状态和终止状态应该与 static_idle 完全相同

------------

#### bolt
拉栓动画，手动武器在开火后播放的动画
- 动画起始状态和终止状态应该与 static_idle 完全相同
- 约束组动画：制作约束组动画后可以使拉栓时枪械始终围绕约束点范围内运动。

------------

#### 运动类动画

------------

##### 跑步类

**run_start**
进入奔跑状态时的动画
- 默认动画中包含此动画
- 动画起始状态应与static_idle完全相同

**run**
奔跑时的动画
- 默认动画中包含此动画
- 动画类型：循环
- 动画起时/终止状态与run_start相同

**run_hold**
奔跑时跳跃的动画
- 默认动画中包含此动画
- 动画类型：静止

**run_end**
奔跑结束时的动画
- 默认动画中包含此动画
- 动画起始状态应与run相同
- 动画终止状态应与static_idle完全相同

------------

##### 走路类

**walk_aiming**
走路时瞄准的动画
- 默认动画中包含此动画
- 动画类型：循环
- 动画起始/终止状态应与static_idle完全相同

**walk_forward**
【向前】走路时的动画
- 默认动画中包含此动画
- 动画类型：循环
- 动画起始/终止状态应与static_idle完全相同

**walk_sideway**
【横向】走路时的动画
- 默认动画中包含此动画
- 动画类型：循环
- 动画起始/终止状态应与static_idle完全相同

**walk_backward**
【向后】走路时的动画
- 默认动画中包含此动画
- 动画类型：循环
- 动画起始/终止状态应与static_idle完全相同
